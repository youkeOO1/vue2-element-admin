(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-611b12f8"],{"3e95":function(e,i,s){},8315:function(e,i,s){"use strict";s("3e95")},e70f:function(e,i,s){"use strict";s.r(i);var t=function(){var e=this,i=e.$createElement,s=e._self._c||i;return s("div",{staticClass:"app-container"},[s("switch-roles",{on:{change:e.handleChange}}),s("div",{key:e.key,staticStyle:{"margin-top":"30px"}},[s("div",[s("span",{directives:[{name:"permission",rawName:"v-permission",value:["admin"],expression:"['admin']"}],staticClass:"permission-alert"},[e._v(" Only "),s("el-tag",{staticClass:"permission-tag"},[e._v("Admin")]),e._v(" can see this ")],1),s("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["admin"],expression:"['admin']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("v-permission=\"['admin']\"")])],1),s("div",[s("span",{directives:[{name:"permission",rawName:"v-permission",value:["editor"],expression:"['editor']"}],staticClass:"permission-alert"},[e._v(" Only "),s("el-tag",{staticClass:"permission-tag"},[e._v("Editor")]),e._v(" can see this ")],1),s("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["editor"],expression:"['editor']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("v-permission=\"['Edit']\"")])],1),s("div",[s("span",{directives:[{name:"permission",rawName:"v-permission",value:["admin","editor"],expression:"['admin', 'editor']"}],staticClass:"permission-alert"},[e._v(" Both "),s("el-tag",{staticClass:"permission-tag"},[e._v("Admin")]),e._v(" and "),s("el-tag",{staticClass:"permission-tag"},[e._v("Editor")]),e._v(" can see this ")],1),s("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["admin","editor"],expression:"['admin', 'editor']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("v-permission=\"['admin', 'Edit']\"")])],1)]),s("div",{key:"checkPermission"+e.key,staticStyle:{"margin-top":"60px"}},[e._m(0),s("el-tabs",{attrs:{type:"border-card"}},[e.checkPermission(["admin"])?s("el-tab-pane",{attrs:{label:"Admin"}},[e._v(" Admin can see this "),s("el-tag",{staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("v-if=\"checkPermission(['admin'])\"")])],1):e._e(),e.checkPermission(["editor"])?s("el-tab-pane",{attrs:{label:"Editor"}},[e._v(" Editor can see this "),s("el-tag",{staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("v-if=\"checkPermission(['editor'])\"")])],1):e._e(),e.checkPermission(["admin","editor"])?s("el-tab-pane",{attrs:{label:"Admin-OR-Editor"}},[e._v(" Both admin or editor can see this "),s("el-tag",{staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("v-if=\"checkPermission(['admin','editor'])\"")])],1):e._e()],1)],1)],1)},n=[function(){var e=this,i=e.$createElement,s=e._self._c||i;return s("aside",[e._v(" In some cases, using v-permission will have no effect. For example: Element-UI's Tab component or el-table-column and other scenes that dynamically render dom. You can only do this with v-if. "),s("br"),e._v(" e.g. ")])}],a=s("e8c9"),r=(s("d3b7"),s("caad"),s("2532"),s("d9e2"),s("4360"));function o(e,i){var s=i.value,t=r["a"].getters&&r["a"].getters.roles;if(!(s&&s instanceof Array))throw new Error("need roles! Like v-permission=\"['admin','editor']\"");if(s.length>0){var n=s,a=t.some((function(e){return n.includes(e)}));a||e.parentNode&&e.parentNode.removeChild(e)}}var c={inserted:function(e,i){o(e,i)},update:function(e,i){o(e,i)}},l=function(e){e.directives("permission",c)};window.Vue&&(window["permission"]=c,Vue.use(l)),c.install=l;var d=c;function m(e){if(e&&e instanceof Array&&e.length>0){var i=r["a"].getters&&r["a"].getters.roles,s=i.some((function(i){return e.includes(i)}));return s}return!1}var v={components:{SwitchRoles:a["a"]},directives:{permission:d},data:function(){return{key:0}},methods:{checkPermission:m,handleChange:function(){this.key++}}},p=v,u=(s("8315"),s("2877")),h=Object(u["a"])(p,t,n,!1,null,"72c225e8",null);i["default"]=h.exports},e8c9:function(e,i,s){"use strict";var t=function(){var e=this,i=e.$createElement,s=e._self._c||i;return s("div",[s("div",{staticStyle:{"margin-bottom":"15px"}},[e._v(" Your roles: "+e._s(e.roles)+" ")]),e._v(" Switch roles: "),s("el-radio-group",{model:{value:e.switchRoles,callback:function(i){e.switchRoles=i},expression:"switchRoles"}},[s("el-radio-button",{attrs:{label:"editor"}}),s("el-radio-button",{attrs:{label:"admin"}})],1)],1)},n=[],a={computed:{roles:function(){return this.$store.getters.roles},switchRoles:{get:function(){return this.roles[0]},set:function(e){var i=this;console.log(e),this.$store.dispatch("user/changeRoles",e).then((function(){i.$emit("change")}))}}}},r=a,o=s("2877"),c=Object(o["a"])(r,t,n,!1,null,null,null);i["a"]=c.exports}}]);
//# sourceMappingURL=chunk-611b12f8.e3a10ff9.js.map